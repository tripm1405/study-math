<form id="form" action="/courses">
    <input name="code" type="text" value="<%= data?.course?.code %>" placeholder="code..." <%= data?.course?.code && 'disabled' %> />
    <input name="name" type="text" value="<%= data?.course?.name %>" placeholder="name..." />
    <input name="note" type="text" value="<%= data?.course?.note %>" placeholder="note..." />
    <button type="submit">SUBMIT</button>
</form>

<input type="hidden" id="id" value="<%= data?.course?._id %>" />
<input type="hidden" id="method" value="<%= data?.course?._id ? 'PUT' : 'POST' %>" />

<script>
  const method = document.getElementById('method').value;
  const id = document.getElementById('id').value;
  document.getElementById('form').addEventListener('submit', async event => {
    event.preventDefault();

    const formData = new FormData(event.target);

    if (method === 'PUT') {
      await axios.put(`http://localhost:5500/courses/${id}`, formData);
    }
    else {
      await axios.post('http://localhost:5500/courses', formData, {
        headers: {
          'Content-Type': 'multipart/form-data'
        },
      });
    }

    window.location.href = `/courses`;
  })
</script>