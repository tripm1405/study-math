<button onClick="upsert('<%= data?.newId %>')">Táº¡o</button>
<table>
    <thead>
    <tr>
        <th></th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    <% for (const block of (data?.blocks || [])) { %>
        <tr>
            <td><%= block?.code %></td>
            <td>
                <button class="btn btn-secondary" onClick="upsert('<%= block?._id %>')"><i class="fas fa-edit"></i></button>
                <button class="btn btn-danger" onClick="del('<%= block?._id %>')"><i class="fas fa-trash-alt"></i></button>
            </td>
        </tr>
    <% } %>
    </tbody>
</table>

<script>
  function upsert(id) {
    window.location.href = `/blocks/${id}`;
  }
  async function del(id) {
    await axios.delete(`http://localhost:5500/blocks/${id}`);
    location.reload()
  }
</script>